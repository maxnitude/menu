(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t){e.exports="data:image/png;base64,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"},34:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-solid.1a1b7102.svg"},36:function(e,t,a){e.exports=a(56)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),u=a(7),o=a(8),l=a(12),s=a(11),m=a(13),d=r.a.createContext(),b=function(){return function(e){return function(t){return r.a.createElement(d.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{RestoService:a}))})}}},f=a(9),p=function(e,t){return{type:"ITEM_ADD_TO_CARD",payload:e,price:t}},E=function(e){return{type:"CHECK_ITEM_IN_CART",payload:e}},v=(a(45),function(){return r.a.createElement("section",{className:"spinner"},r.a.createElement("div",{className:"spinner__eclipse"},r.a.createElement("div",{className:"ldio-2pu35wpqvcc"},r.a.createElement("div",null))))}),C=(a(46),a(20)),I=(a(47),{deleteFromCard:function(e){return{type:"ITEM_REMOVE_FROM_CARD",payload:e}},addedToCard:p,isItemInCart:E,changeInput:function(e,t,a){return{type:"CHANGE_INPUT",payload:e,value:a,price:t}}}),_=Object(f.b)(function(e){return{itemsInCart:e.itemsInCart}},I)(function(e){var t=e.isItemInCart,a=e.addedToCard,c=e.deleteFromCard,i=e.item,u=e.changeInput,o=i.count,l=i.price,s=i.id,m=Object(n.useState)(!0),d=Object(C.a)(m,2),b=d[0],f=d[1],p=Object(n.useState)(!0),E=Object(C.a)(p,2),v=E[0],I=E[1],_=Object(n.useState)(!1),g=Object(C.a)(_,2),O=g[0],h=g[1];Object(n.useEffect)(function(){0===o?f(!1):49===o?I(!1):o<49&&o>0&&(I(!0),f(!0))},[o]);var N=b?"added-btn__minus":"added-btn__minus added-btn__inactive",y=v?"added-btn__plus":"added-btn__plus added-btn__inactive",A=O?"added-btn__alert-message":"added-btn__alert-message__inactive";return r.a.createElement("div",{className:"added-btn"},r.a.createElement("button",{className:N,disabled:!b,onClick:function(){b&&c(s)}},"-"),r.a.createElement("div",{className:"added-btn__title"},r.a.createElement("input",{className:"added-btn__input",type:"text",value:o,onChange:function(){},onBlur:function(e){""===e.target.value&&(u(s,l,1),f(!0)),h(!1)},onInput:function(e){var t=e.target.value,a=Number(e.target.value);if(isNaN(a)||""===t){if(""===t)f(!1),u(s,l,t);else if(isNaN(a))if(null===t.match(/\d+/))u(s,l,1);else{var n=Number(t.match(/\d+/)[0]);u(s,l,n)}}else 0===a?u(s,l,1):t>49?(h(!0),setTimeout(function(){h(!1)},3e3),u(s,l,49)):u(s,l,a)}})),r.a.createElement("button",{className:y,disabled:!v,onClick:function(){t(s),a(s,l)}},"+"),r.a.createElement("span",{className:A},"No more than 49"))}),g=function(e){var t=e.isItemInCart,a=e.menuItem,n=e.onAddToCard,c=e.itemInCart,i=a.title,u=a.price,o=a.url;return r.a.createElement("li",{className:"menu__item"},r.a.createElement("img",{className:"menu__img",src:o,alt:i}),r.a.createElement("div",{className:"menu__title"},i),r.a.createElement("div",{className:"menu__price-info"},r.a.createElement("div",{className:"menu__price"},"Price: ",r.a.createElement("span",null,u,"$")),c?r.a.createElement(_,{item:c}):r.a.createElement("button",{onClick:function(){n(),t()},className:"menu__btn"},"Add to cart")))},O=(a(48),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.menuItems,a=e.addedToCard,n=e.isItemInCart,c=e.itemsInCart;return r.a.createElement("ul",{className:"menu__list"},t.map(function(e){var t=c.find(function(t){return t.id===e.id})||null;return r.a.createElement(g,{key:e.id,menuItem:e,onAddToCard:function(){return a(e.id,e.price)},isItemInCart:function(){return n(e.id)},itemInCart:t})}))}}]),t}(r.a.Component)),h=(a(49),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=a.props,n=t.toggleMobMenu;!t.isMobMenu||e.target.closest(".menu__tabs")||e.target.closest(".menu-button__hamburger")||n()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.menuRequested(),this.props.RestoService.getMenuItems().then(function(t){return e.props.menuLoaded(t.menu,null)}),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.menuItems,n=e.loading,c=e.addedToCard,i=e.isItemInCart,u=e.itemsInCart,o=e.changeTab,l=e.activeTab,s=e.isMobMenu,m=e.toggleMobMenu;if(n)return r.a.createElement(v,null);var d=s?"menu menu__mob":"menu",b=s?"menu-button__hamburger open":"menu-button__hamburger";return r.a.createElement("div",{className:d},r.a.createElement("button",{className:"menu-button__btn",onClick:function(){return m()}},r.a.createElement("div",{className:b},r.a.createElement("span",null))),r.a.createElement("ul",{className:"menu__tabs"},t.map(function(e,t){return r.a.createElement("li",{className:l===e?"menu__tabs-item active":"menu__tabs-item",key:t,onClick:function(){o(e),m()}},e)})),r.a.createElement(O,{menuItems:a,addedToCard:c,isItemInCart:i,itemsInCart:u}))}}]),t}(r.a.Component)),N={menuLoaded:function(e,t){return{type:"MENU_LOADED",payload:e,tab:t}},menuRequested:function(){return{type:"MENU_REQUESTED"}},addedToCard:p,isItemInCart:E,changeTab:function(e){return{type:"CHANGE_TAB",tab:e}},toggleMobMenu:function(){return{type:"TOGGLE_MOB_MENU"}}},y=b()(Object(f.b)(function(e){return{menuItems:e.visibleMenu,loading:e.loading,itemsInCart:e.itemsInCart,categories:e.categories,activeTab:e.activeTab,isMobMenu:e.isMobMenu}},N)(h)),A=function(){return r.a.createElement(y,null)},M=(a(50),a(33)),j=a.n(M),U={deleteProduct:function(e){return{type:"PRODUCT_REMOVE_FROM_CARD",payload:e}}},T=Object(f.b)(function(e){return{itemsInCart:e.itemsInCart}},U)(function(e){var t=e.itemsInCart,a=e.deleteProduct;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cart__title"},t.length>0?"Your order:":"Cart is empty"),r.a.createElement("img",{className:t.length>0?"cart__img__none":"cart__img",src:j.a,alt:"Empty cart"}),r.a.createElement("div",{className:"cart__list"},t.map(function(e){var t=e.title,n=e.price,c=e.url,i=e.id,u=e.count;return r.a.createElement("div",{key:i,className:"cart__item"},r.a.createElement("div",{className:"cart__item-img"},r.a.createElement("img",{src:c,className:"cart__item-img__source",alt:t})),r.a.createElement("div",{className:"cart__item-description"},r.a.createElement("div",{className:"cart__item-title"},t),r.a.createElement("div",{className:"cart__item-price"},n,"$/count"),r.a.createElement(_,{item:e}),r.a.createElement("div",{className:"cart__item-price__total"},u*n,"$"),r.a.createElement("div",{onClick:function(){return a(i)},className:"cart__item-delete"})))})))}),k=function(){return r.a.createElement("div",{className:"cart"},r.a.createElement(T,null))},W=a(34),x=a.n(W),R=a(16),X=(a(51),Object(f.b)(function(e){return{total:e.total,totalCount:e.totalCount}})(function(e){var t=e.total,a=e.totalCount;return r.a.createElement("header",{className:"header"},r.a.createElement(R.b,{to:"/",className:"header__link"},r.a.createElement("h1",{className:"header__link-title"},"Menu")),r.a.createElement(R.b,{to:"/cart",className:"header__link"},r.a.createElement("span",{className:"header__price"},t," $"),r.a.createElement("img",{className:"header__cart",src:x.a,alt:"cart"}),r.a.createElement("span",{className:"header__count"},a)))})),w=a(1),V=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(X,null),r.a.createElement(w.a,{exact:!0,path:"/",component:A}),r.a.createElement(w.a,{path:"/cart",component:k}))}}]),t}(r.a.Component),B=function(){return r.a.createElement("div",{className:"error"},"Error")},S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(B,null):this.props.children}}]),t}(r.a.Component),P=a(17),D=a.n(P),G=a(28),K=function(){function e(){Object(u.a)(this,e),this._apiBase="https://maxnitude.github.io"}return Object(o.a)(e,[{key:"getResource",value:function(){var e=Object(G.a)(D.a.mark(function e(t){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}return e.abrupt("return",a.json());case 7:throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getMenuItems",value:function(){var e=Object(G.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/menu/db.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),L=a(19),F=a(6),H=a(4),Y={allMenu:[],visibleMenu:[],loading:!0,itemsInCart:[],total:0,totalCount:0,categories:[],activeTab:"Pizza",isMobMenu:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_REQUESTED":return Object(H.a)({},e,{loading:!0});case"MENU_LOADED":var a=t.payload,n=t.tab;null===n&&(n=e.activeTab);var r=[];return a.forEach(function(t){-1===e.categories.indexOf(t.category)&&e.categories.push(t.category)}),a.forEach(function(e){e.category===n&&r.push(e)}),Object(H.a)({},e,{allMenu:t.payload,visibleMenu:r,loading:!1,categories:e.categories,activeTab:n});case"CHANGE_TAB":var c=t.tab,i=[];return e.allMenu.forEach(function(e){e.category===c&&i.push(e)}),Object(H.a)({},e,{visibleMenu:[].concat(i),activeTab:c});case"ITEM_ADD_TO_CARD":var u=t.payload,o=t.price,l=e.visibleMenu.find(function(e){return e.id===u}),s=e.itemsInCart.find(function(e){return e.id===u});if(s)return s.count++,Object(H.a)({},e,{itemsInCart:Object(F.a)(e.itemsInCart),total:e.total+o,totalCount:e.totalCount+1});var m={title:l.title,price:l.price,url:l.url,id:l.id,count:1};return Object(H.a)({},e,{itemsInCart:[].concat(Object(F.a)(e.itemsInCart),[m]),total:e.total+o,totalCount:e.totalCount+1});case"ITEM_REMOVE_FROM_CARD":var d=t.payload,b=e.itemsInCart.findIndex(function(e){return e.id===d}),f=e.itemsInCart.find(function(e){return e.id===d});return f.count>1?(f.count--,Object(H.a)({},e,{itemsInCart:Object(F.a)(e.itemsInCart),total:e.total-f.price,totalCount:e.totalCount-1})):0===f.count?Object(H.a)({},e,{itemsInCart:[].concat(Object(F.a)(e.itemsInCart.slice(0,b)),Object(F.a)(e.itemsInCart.slice(b+1))),totalCount:e.totalCount-1}):Object(H.a)({},e,{itemsInCart:[].concat(Object(F.a)(e.itemsInCart.slice(0,b)),Object(F.a)(e.itemsInCart.slice(b+1))),total:e.total-f.price,totalCount:e.totalCount-1});case"PRODUCT_REMOVE_FROM_CARD":var p=t.payload,E=e.itemsInCart.findIndex(function(e){return e.id===p}),v=e.itemsInCart.find(function(e){return e.id===p});return Object(H.a)({},e,{itemsInCart:[].concat(Object(F.a)(e.itemsInCart.slice(0,E)),Object(F.a)(e.itemsInCart.slice(E+1))),total:e.total-v.price*v.count,totalCount:e.totalCount-v.count});case"CHECK_ITEM_IN_CART":var C=t.payload;return e.itemsInCart.find(function(e){return e.id===C}).added=!0,Object(H.a)({},e);case"CHANGE_INPUT":var I=t.payload,_=t.value,g=t.price,O=e.itemsInCart.find(function(e){return e.id===I}),h=O.count;return O.count=_,Object(H.a)({},e,{itemsInCart:Object(F.a)(e.itemsInCart),total:e.total+g*_-g*h,totalCount:e.totalCount+_-h});case"TOGGLE_MOB_MENU":return Object(H.a)({},e,{isMobMenu:!e.isMobMenu});default:return e}},Q=Object(L.b)(Z),q=(a(55),new K);i.a.render(r.a.createElement(f.a,{store:Q},r.a.createElement(S,null,r.a.createElement(d.Provider,{value:q},r.a.createElement(R.a,{basename:"/menu"},r.a.createElement(V,null))))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.cc34ae8b.chunk.js.map